<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Yes Wheel</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f0f0f0;
    text-align: center;
    margin: 0;
    padding: 0;
  }
  canvas {
    margin-top: 20px;
  }
  #spinButton {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    padding: 15px 25px;
    background: #ff4081;
    color: white;
    border: none;
    border-radius: 50%;
    font-size: 18px;
    cursor: pointer;
    z-index: 10;
  }
</style>
</head>
<body>

<h1>Yes Wheel</h1>
<div style="position: relative; display: inline-block;">
  <canvas id="wheelCanvas" width="400" height="400"></canvas>
  <button id="spinButton">TAP</button>
</div>

<script>
  const options = ["Yes","Yes","Yes","Yes","Yes","Yes"];
  let startAngle = 0;
  let arc = Math.PI / (options.length / 2);
  let spinTimeout = null;
  let spinAngleStart = 0;
  let spinTime = 0;
  let spinTimeTotal = 0;
  const ctx = document.getElementById("wheelCanvas").getContext("2d");

  function drawWheel() {
    const outsideRadius = 180;
    const textRadius = 140;
    const insideRadius = 40;

    ctx.clearRect(0, 0, 400, 400);
    ctx.strokeStyle = "black";
    ctx.lineWidth = 2;
    ctx.font = 'bold 16px Arial';

    for (let i = 0; i < options.length; i++) {
      const angle = startAngle + i * arc;
      ctx.fillStyle = i % 2 === 0 ? "#FFD700" : "#FF69B4";
      ctx.beginPath();
      ctx.arc(200, 200, outsideRadius, angle, angle + arc, false);
      ctx.arc(200, 200, insideRadius, angle + arc, angle, true);
      ctx.fill();
      ctx.save();
      ctx.fillStyle = "black";
      ctx.translate(200 + Math.cos(angle + arc / 2) * textRadius,
                    200 + Math.sin(angle + arc / 2) * textRadius);
      ctx.rotate(angle + arc / 2);
      const text = options[i];
      ctx.fillText(text, -ctx.measureText(text).width / 2, 0);
      ctx.restore();
    }
  }

  function rotateWheel() {
    spinTime += 30;
    if (spinTime >= spinTimeTotal) {
      stopRotateWheel();
      return;
    }
    const spinAngle = spinAngleStart - easeOut(spinTime, 0, spinAngleStart, spinTimeTotal);
    startAngle += (spinAngle * Math.PI / 180);
    drawWheel();
    spinTimeout = setTimeout(rotateWheel, 30);
  }

  function stopRotateWheel() {
    clearTimeout(spinTimeout);
    const degrees = startAngle * 180 / Math.PI + 90;
    const arcd = arc * 180 / Math.PI;
    const index = Math.floor((360 - (degrees % 360)) / arcd) % options.length;
    alert("Result: " + options[index]);
  }

  function easeOut(t, b, c, d) {
    const ts = (t/=d)*t;
    const tc = ts*t;
    return b + c*(tc + -3*ts + 3*t);
  }

  document.getElementById("spinButton").addEventListener("click", function() {
    spinAngleStart = Math.random() * 10 + 10;
    spinTime = 0;
    spinTimeTotal = Math.random() * 3000 + 4000;
    rotateWheel();
  });

  drawWheel();
</script>

</body>
</html>
